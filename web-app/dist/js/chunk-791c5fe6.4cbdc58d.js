(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-791c5fe6"],{1276:function(t,e,n){"use strict";var r=n("d784"),a=n("44e7"),s=n("825a"),o=n("1d80"),i=n("4840"),u=n("8aa5"),c=n("50c4"),l=n("14c3"),d=n("9263"),f=n("d039"),p=[].push,h=Math.min,g=4294967295,m=!f((function(){return!RegExp(g,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(o(this)),s=void 0===n?g:n>>>0;if(0===s)return[];if(void 0===t)return[r];if(!a(t))return e.call(r,t,s);var i,u,c,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,m=new RegExp(t.source,f+"g");while(i=d.call(m,r)){if(u=m.lastIndex,u>h&&(l.push(r.slice(h,i.index)),i.length>1&&i.index<r.length&&p.apply(l,i.slice(1)),c=i[0].length,h=u,l.length>=s))break;m.lastIndex===i.index&&m.lastIndex++}return h===r.length?!c&&m.test("")||l.push(""):l.push(r.slice(h)),l.length>s?l.slice(0,s):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var a=o(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,a,n):r.call(String(a),e,n)},function(t,a){var o=n(r,t,this,a,r!==e);if(o.done)return o.value;var d=s(t),f=String(this),p=i(d,RegExp),v=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),k=new p(m?d:"^(?:"+d.source+")",b),y=void 0===a?g:a>>>0;if(0===y)return[];if(0===f.length)return null===l(k,f)?[f]:[];var w=0,I=0,_=[];while(I<f.length){k.lastIndex=m?I:0;var x,N=l(k,m?f:f.slice(I));if(null===N||(x=h(c(k.lastIndex+(m?0:I)),f.length))===w)I=u(f,I,v);else{if(_.push(f.slice(w,I)),_.length===y)return _;for(var E=1;E<=N.length-1;E++)if(_.push(N[E]),_.length===y)return _;I=w=x}}return _.push(f.slice(w)),_}]}),!m)},2095:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));n("99af");var r=function(t){return t>=10?t:"0".concat(t)},a=1e3,s=60*a,o=60*s,i=24*o,u=30*i,c=12*u,l=function(t){if(!t)return{};var e=new Date(parseInt(t)),n={y:e.getFullYear(),m:e.getMonth()+1,d:e.getDate(),h:e.getHours(),mi:e.getMinutes(),s:e.getSeconds()};return n},d=function(t){var e=l(t),n=e.y,a=e.m,s=e.d,o=e.h,i=e.mi;return"".concat(n,"/").concat(r(a),"/").concat(r(s)," ").concat(r(o),":").concat(r(i))},f=function(t){if(!t)return"日期格式不正确";var e=parseInt(t)-Date.now();switch(!0){case e<0:return'<span style="color:red">已超时!</span>';case e>=c:return'<span style="color:#66BB6A">'.concat(parseInt(e/c),"年后</span>");case e>=u:return'<span style="color:#66BB6A">'.concat(parseInt(e/u),"个多月后</span>");case e>=i:return'<span style="color:#9CCC65">还有'.concat(parseInt(e/i),"天</span>");case e>=o:return'<span style="color:#FFA726">'.concat(parseInt(e/o),"小时后</span>");case e>=s:return'<span style="color:#FF7043">'.concat(parseInt(e/s),"分钟后</span>");default:return'<span style="color:#E91E63">不到一分钟了!</span>'}}},4946:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"根据名称搜索"},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}})],1),n("el-divider"),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.showList,"row-key":"taskId"}},[n("el-table-column",{attrs:{prop:"title",label:"任务名",width:"180","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("Status",{attrs:{status:t.row.status}})]}}])}),n("el-table-column",{attrs:{prop:"responsePersonName",label:"负责人"}}),n("el-table-column",{attrs:{prop:"startDate",label:"开始日期",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return n("span",{},[t._v(t._s(t.formatDate(e.row.startDate)))])}}])}),n("el-table-column",{attrs:{prop:"endDate",label:"结束日期",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return n("span",{domProps:{innerHTML:t._s(t.btyDate(e.row.endDate))}},[t._v(t._s(e.row.endDate))])}}])}),n("el-table-column",{attrs:{prop:"cost",label:"成本"},scopedSlots:t._u([{key:"default",fn:function(e){return n("span",{},[t._v(t._s(e.row.cost+"元"))])}}])}),n("el-table-column",{attrs:{prop:"tags",label:"标签"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.formatTags(e.row.tags)?t._l(t.formatTags(e.row.tags),(function(e,r){return n("el-tag",{key:r,staticStyle:{margin:"5px 0 0 5px"},attrs:{type:e.type,size:"mini"}},[t._v(" "+t._s(e.name)+" ")])})):n("p",[t._v("无标签")])]}}])}),n("el-table-column",{attrs:{width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.makeQrcode(e.row)}}},[t._v("生成二维码")])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"100",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.openDetail(e.row)}}},[t._v("详情")])]}}])})],1),n("el-dialog",{attrs:{title:"任务二维码",visible:t.taskQrCodeVisible,width:"296px"},on:{"update:visible":function(e){t.taskQrCodeVisible=e}}},[n("div",{attrs:{id:"qrcode"}})])],1)},a=[],s=(n("99af"),n("4de4"),n("caad"),n("d81d"),n("ac1f"),n("2532"),n("1276"),n("96cf"),n("1da1")),o=n("ea7f"),i=n("d044"),u=n.n(i),c=n("2095"),l=n("a2dd"),d={props:["status","routeName"],components:{Status:l["a"]},data:function(){return{taskList:[],taskQrCodeVisible:!1,loading:!1,searchWord:""}},computed:{showList:function(){var t=this;return this.searchWord?this.taskList.filter((function(e){return e.title.includes(t.searchWord)})):this.taskList}},methods:{formatDate:c["b"],btyDate:c["a"],getList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,n={status:t.status},e.next=4,Object(o["i"])(n);case 4:if(r=e.sent,t.loading=!1,200===r.code){e.next=9;break}return t.$message.error("获取列表失败"),e.abrupt("return");case 9:t.taskList=r.data;case 10:case"end":return e.stop()}}),e)})))()},formatTags:function(t){if(t){var e=t.split(";");return e.map((function(t){var e=t.split(",");return{name:e[0],type:e[1]}}))}},openDetail:function(t){this.$router.push({name:this.routeName,query:{taskId:t.taskId},params:t})},makeQrcode:function(t){this.taskQrCodeVisible=!0,this.$nextTick((function(){var e=document.getElementById("qrcode");e.innerHTML="";var n=location.host.includes("127.0.0.1")?location.host:"".concat(location.host,"/bsweb"),r="http://".concat(n,"/#/taskDetail?taskId=").concat(t.taskId);new u.a("qrcode",{text:r,render:"canvas",background:"#f0f",foreground:"#ff0"})}))}},created:function(){this.getList()}},f=d,p=n("2877"),h=Object(p["a"])(f,r,a,!1,null,null,null);e["a"]=h.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),s="["+a+"]",o=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(i,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},7156:function(t,e,n){var r=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var s,o;return a&&"function"==typeof(s=e.constructor)&&s!==n&&r(o=s.prototype)&&o!==n.prototype&&a(t,o),t}},a2dd:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tag",{attrs:{type:t.types[t.status],size:"small"}},[t._v(" "+t._s(t.texts[t.status])+" ")])},a=[],s=(n("a9e3"),{1:"info",2:"",3:"success",999:"danger"}),o={1:"待办",2:"进行中",3:"已完成",999:"取消"},i={props:{status:{type:Number,default:0}},data:function(){return{types:s,texts:o}}},u=i,c=n("2877"),l=Object(c["a"])(u,r,a,!1,null,null,null);e["a"]=l.exports},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),s=n("94ca"),o=n("6eeb"),i=n("5135"),u=n("c6b6"),c=n("7156"),l=n("c04e"),d=n("d039"),f=n("7c73"),p=n("241c").f,h=n("06cf").f,g=n("9bf2").f,m=n("58a8").trim,v="Number",b=a[v],k=b.prototype,y=u(f(k))==v,w=function(t){var e,n,r,a,s,o,i,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(c=m(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+c}for(s=c.slice(2),o=s.length,i=0;i<o;i++)if(u=s.charCodeAt(i),u<48||u>a)return NaN;return parseInt(s,r)}return+c};if(s(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var I,_=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof _&&(y?d((function(){k.valueOf.call(n)})):u(n)!=v)?c(new b(w(e)),n,_):w(e)},x=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),N=0;x.length>N;N++)i(b,I=x[N])&&!i(_,I)&&g(_,I,h(b,I));_.prototype=k,k.constructor=_,o(a,v,_)}},d10d:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("List",{attrs:{status:1,routeName:"TodoTaskDetail"}})],1)},a=[],s=n("4946"),o={components:{List:s["a"]}},i=o,u=n("2877"),c=Object(u["a"])(i,r,a,!1,null,null,null);e["default"]=c.exports},ea7f:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"i",(function(){return s})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"c",(function(){return f}));var r=n("8daa"),a=function(t){return Object(r["a"])({url:"/createTask",method:"post",data:t})},s=function(t){return Object(r["a"])({url:"/taskList",method:"get",params:t})},o=function(t){return Object(r["a"])({url:"/task/detail",method:"get",params:t})},i=function(t){return Object(r["a"])({url:"/task/changTaskStatus",method:"post",data:t})},u=function(t){return Object(r["a"])({url:"/task/changeLog",method:"post",data:t})},c=function(t){return Object(r["a"])({url:"/task/getChangeLogs",method:"get",params:t})},l=function(t){return Object(r["a"])({url:"/task/changeResPerson",method:"post",data:t})},d=function(){return Object(r["a"])({url:"/task/allList",method:"get"})},f=function(t){return Object(r["a"])({url:"/task/ing/changeFlow",method:"post",data:t})}}}]);
//# sourceMappingURL=chunk-791c5fe6.4cbdc58d.js.map